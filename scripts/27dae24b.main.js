$(function(){"use strict";var a=new window.Game($(".GameCanvas"));a.start()}),window.Controls=function(){"use strict";var a={32:"space",37:"left",38:"up",39:"right",40:"down",77:"m"},b=function(){this._didJump=!1,this.keys={},this.volumeOn=!1,this.HelicopterSound=new Audio("../audio/HelicopterSound.mp3"),$(window).on("keydown",this._onKeyDown.bind(this)).on("keyup",this._onKeyUp.bind(this))};return b.prototype._onKeyDown=function(b){if(32!==b.keyCode||this.keys.space||(this._didJump=!0,this.HelicopterSound.play()),77===b.keyCode&&(this.volumeOn?(this.volumeOn=!1,this.HelicopterSound.volume=1):(this.volumeOn=!0,this.HelicopterSound.volume=0)),b.keyCode in a){var c=a[b.keyCode];return this.keys[c]=!0,!1}},b.prototype._onKeyUp=function(b){if(b.keyCode in a){var c=a[b.keyCode];return this.keys[c]=!1,!1}},b.prototype.isVolumeOn=function(){return this.volumeOn},b.prototype.didJump=function(){var a=this._didJump;return this._didJump=!1,a},new b}(),window.Game=function(){"use strict";var a=window.Controls,b=18,c=function(a){this.el=a,this.player=new window.Player(this.el.find(".Player"),this),this.pipeBelow=new window.PipeBelow(this.el.find(".PipeBelow"),this,1*b),this.pipeAbove=new window.PipeAbove(this.el.find(".PipeAbove"),this,0*b),this.isPlaying=!1,this.GameSoundtrack=new Audio("../audio/backgroundmusic.mp3"),this.DeathSound=new Audio("../audio/IamaGod.mp3"),this.ResetAudio=new Audio("../audio/kanyeEGO.mp3"),this.CameraSound=new Audio("../audio/CameraSound.mp3"),this.Rockstar=new Audio("../audio/kanyeRockstar.mp3"),this.kanyeWalmart=new Audio("../audio/BiggerThanWalmart.mp3"),this.president=new Audio("../audio/kanyePresident.mp3"),this.score=0,this.highScore=0,this.isPlaying=!1;var d=Math.min(window.innerWidth/c.prototype.WORLD_WIDTH,window.innerHeight/c.prototype.WORLD_HEIGHT);a.css("fontSize",d+"px"),this.onFrame=this.onFrame.bind(this),document.querySelector("#score").innerHTML="Score: "+this.score};return c.prototype.onFrame=function(){if(this.isPlaying){a.isVolumeOn()?this.SoundManager(0):this.SoundManager(1);var b=+new Date/1e3,c=b-this.lastFrame;this.lastFrame=b,10===this.score?(this.Rockstar.play(),this.isPlaying=!0):15===this.score?(this.kanyeWalmart.play(),this.isPlaying=!0):20===this.score?(this.president.play(),this.isPlaying=!0):23===this.score&&this.president.pause(),this.player.onFrame(c),this.pipeBelow.onFrame(c),this.pipeAbove.onFrame(c),document.querySelector("#score").innerHTML="Score: "+this.score,window.requestAnimationFrame(this.onFrame)}},c.prototype.start=function(){this.reset(),this.lastFrame=+new Date/1e3,window.requestAnimationFrame(this.onFrame),this.isPlaying=!0,this.score=0},c.prototype.reset=function(){this.DeathSound.pause(),this.ResetAudio.pause(),this.CameraSound.pause(),this.GameSoundtrack.play(),this.player.reset(),this.pipeBelow.reset(),this.pipeAbove.reset(),this.score=0,document.querySelector(".score").innerHTML="Score: "+this.score},c.prototype.gameover=function(){this.isPlaying=!1,this.GameSoundtrack.pause(),this.DeathSound.play(),this.ResetAudio.play(),this.CameraSound.play(),this.highScore<this.score&&(this.highScore=this.score),document.querySelector(".score").innerHTML="Score: "+this.score,document.querySelector(".highscore").innerHTML="High Score: "+this.highScore;var a=this,b=this.el.find(".Scoreboard");b.addClass("is-visible").find(".Scoreboard-restart").one("click",function(){b.removeClass("is-visible"),this.score=0,a.start()})},c.prototype.SoundManager=function(a){this.GameSoundtrack.volume=a,this.DeathSound.volume=a,this.ResetAudio.volume=a,this.CameraSound.volume=a,this.president.volume=a,this.Rockstar.volume=a,this.kanyeWalmart.volume=a},c.prototype.WORLD_WIDTH=102.4,c.prototype.WORLD_HEIGHT=57.6,c}(),window.Player=function(){"use strict";var a=window.Controls,b=5,c=10,d=30,e=10,f=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0},this.rotation=-20,this.gravity=.04,this.velocity=0,this.lift=-1.13};return f.prototype.reset=function(){this.pos.x=d,this.pos.y=e,this.rotation=0,this.lift=-1.13,this.velocity=0},f.prototype.onFrame=function(){a.didJump()?this.velocity+=this.lift:(this.velocity+=this.gravity,this.velocity*=.95),this.pos.y+=this.velocity,this.velocity<0?this.rotation=-20:this.rotation=10,this.checkCollisionWithBounds(),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em) rotate("+this.rotation+"deg)")},f.prototype.checkCollisionWithBounds=function(){return this.pos.x<0||this.pos.x+b>this.game.WORLD_WIDTH||this.pos.y<0||this.pos.y+c>this.game.WORLD_HEIGHT||this.checkCollisionWithPipes()?(this.rotation=130,this.game.gameover()):void(this.NotCollisionWithPipes()&&(this.game.score++,document.querySelector("#score").innerHTML="Score: "+this.game.score))},f.prototype.checkCollisionWithPipes=function(){return this.pos.x>this.game.pipeBelow.pos.x&&this.pos.x<this.game.pipeBelow.pos.x+3&&(this.pos.y<this.game.pipeBelow.pos.y+15||this.pos.y>this.game.pipeBelow.pos.y+35)||this.pos.x>this.game.pipeAbove.pos.x&&this.pos.x<this.game.pipeAbove.pos.x+3&&(this.pos.y<this.game.pipeAbove.pos.y+15||this.pos.y>this.game.pipeAbove.pos.y+40)},f.prototype.NotCollisionWithPipes=function(){return this.pos.x>this.game.pipeBelow.pos.x&&this.pos.x<this.game.pipeBelow.pos.x+.845||this.pos.x>this.game.pipeAbove.pos.x&&this.pos.x<this.game.pipeAbove.pos.x},f}(),window.requestAnimationFrame||(window.requestAnimationFrame=function(){"use strict";return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()),window.Ground=function(){"use strict";var a=2,b=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0}};return b.prototype.onFrame=function(b){this.pos.x-=b*a,this.pos.x<=-108&&(this.pox.x=0),this.el.css("transform","translateZ(0) translate("+this.pox.x+"em, "+this.pos.y+"em)")},b}(),window.PipeAbove=function(){"use strict";var a=30,b=100,c=0,d=function(a,d,e){this.el=a,this.game=d,this.offset=e,this.WIDTH=11.5,this.HEIGHT=37,this.pos={x:b,y:c}};return d.prototype.reset=function(){this.pos.x=b+this.offset,this.pos.y=Math.floor(15*Math.random())},d.prototype.onFrame=function(c){this.pos.x-=c*a+.25,this.pos.x<-10&&(this.pos.x=b,this.pos.y=Math.floor(15*Math.random())),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},d}(),window.PipeBelow=function(){"use strict";var a=30,b=100,c=0,d=function(a,d,e){this.el=a,this.game=d,this.offset=e,this.WIDTH=11.5,this.HEIGHT=37,this.pos={x:b,y:c}};return d.prototype.reset=function(){this.pos.x=b+this.offset,this.pos.y=Math.floor(-15*Math.random())},d.prototype.onFrame=function(c){this.pos.x-=c*a+.25,this.pos.x<-10&&(this.pos.x=b,this.pos.y=Math.floor(-15*Math.random())),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em)")},d}(),window.CityLandscape=function(){"use strict";var a=2,b=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0}};return b.prototype.onFrame=function(b){this.pos.x-=b*a,this.pos.x<=-108&&(this.pox.x=0),this.el.css("transform","translateZ(0) translate("+this.pox.x+"em, "+this.pos.y+"em)")},b}();